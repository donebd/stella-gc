# stella-gc

## Описание

Реализован сборщик мусора для языка программирования Stella с поддержкой копирующей сборки мусора и сборки по поколениям. Поддерживается два поколения.

## Конфигурация

### Макросы конфигурации

+ **_MAX_ALLOC_SIZE_** — размер `from_space` для поколения 0, устанавливающий объем памяти, который может быть выделен этому пространству.
+ **_G1_SPACE_SIZE_** - размер `from_space` и `to_space` для поколения 1, устанавливается как среда окружения в файле быстрого запуска `./run.sh`
+ **_GEN_COUNT_** — количество поколений для сборщика мусора (в текущей версии **2**).
+ **_GC_DEBUG_** — флаг для включения отладочной печати состояния сборщика мусора во время выполнения.

## Запуск

Для запуска программы на языке C необходимо скомпилировать её вместе со средой времени исполнения и сборщиком мусора. Можно использовать  скрипт для упрощенного запуска:

```bash
./run.sh <some_program.c> <flags>
```

### Флаги

При запуске можно указывать флаги, влияющие на отладочную печать и печать статистики:

    -d — включает флаг -DSTELLA_DEBUG
    -g — включает флаг -DSTELLA_GC_STATS
    -r — включает флаг -DSTELLA_RUNTIME_STATS

Например, следующая команда включает все флаги:

```bash
./run.sh <путь_к_исполняемому_файлу> -dgr
```

## Примеры работы

Примеры работы сборщика мусора на нескольких программ, находящихся в папке `./stella-programms`, находятся в папке `./output-results`.
